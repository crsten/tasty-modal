// Variables

$primary: #F38181;
$secondary: #FCE38A;

$success: #61D885;
$error: #D86161;

$background: #FFFCFC;
$text: #222222;

// Mixins

@mixin tasty-modal-icon-background($color){
	background: linear-gradient(125deg,$color,adjust-color($color,$hue: -50deg));
}

@mixin tasty-modal-icon-pulse($color){
	background: rgba($color,.4);
}

.tasty-modal{
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	display: flex;
	justify-content: center;
	align-items: center;

	background: rgba(0,0,0,0.7);

	&.tasty-modal-open{
		animation: tasty-modal-fade 200ms linear both;
		.tasty-modal-container{
			animation: tasty-modal-open-animation 1000ms linear both;
		}
	}

	&.tasty-modal-close{
		animation: tasty-modal-fade 100ms linear both;
		animation-direction: reverse;
	}
}

.tasty-modal-container{
	position: relative;
	border-radius: 1em;
	box-shadow: 0 10px 30px -5px rgba(0,0,0,0.3);
	color: $primary;

	&.tasty-modal-error{
		color: $error;

		.tasty-modal-icon{
			&:after{
				@include tasty-modal-icon-background($error);
			}
			&:before{
				@include tasty-modal-icon-pulse($error);
			}
		}
	}

	&.tasty-modal-success{
		color: $success;

		.tasty-modal-icon{
			&:after{
				@include tasty-modal-icon-background($success);
			}
			&:before{
				@include tasty-modal-icon-pulse($success);
			}
		}
	}

	&.tasty-modal-info{

		.tasty-modal-icon{

		}
	}

	&.tasty-modal-question{

		.tasty-modal-icon{

		}
	}

	.tasty-modal-icon{
		position: absolute;
		display: flex;
		justify-content: center;
		align-items: center;
		width: 4em;
		z-index: 3;
		height: 4em;
		top: 0;
		transform: translate3d(-40%,-30%,0);
		left: 0;

		svg{
			z-index: 3;
			fill: rgba(black,0.3);
			width: 3.5em;
			height: 3.5em;
		}

		&:after{
			content: '';
			border-radius: 50%;
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			display: block;
			z-index: 2;
			@include tasty-modal-icon-background($secondary);
		}

		&:before{
			content:'';
			z-index: 1;
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			border-radius: 50%;
			@include tasty-modal-icon-pulse($secondary);
			animation: pulse 2s ease-out infinite;
			transform: scale(1);

			@keyframes pulse{
				to{
					transform: scale(1.3);
					opacity: 0;
				}
			}
		}
	}
}

.tasty-modal-inner{
	overflow: hidden;
	background: white;
	padding: 2em;
	max-width: 400px;
	border-radius: 1em;
	display: flex;
	justify-content: center;
	flex-direction: column;
	align-items: center;

	position: relative;

	&:before{
		content: '';
		background: repeating-radial-gradient(ellipse,rgba(0,0,0,0.05),rgba(0,0,0,0.05) 1px,#ffffff 1px, #ffffff 50px);
		position: absolute;
		width: 25em;
		height: 25em;
		top: -11.5em;
		left: -50%;
		z-index: 0;
	}

	& *{
		z-index: 1;
	}

	h1{
		margin: 0 .75em .75em;
		font-size: 1.4em;
	}

	.tasty-modal-buttons{
		button{
			padding: .5em 1.5em;
			margin: 1em .25em 0;
			border: none;
			font-family: inherit;
			font-size: inherit;
			border-radius: .5em;
			outline: none;
			color: white;

			&:first-child{
				@include tasty-modal-icon-background($secondary);
			}
		}

		.tasty-modal-button-error:first-child{
			@include tasty-modal-icon-background($error);
		}
		.tasty-modal-button-success:first-child{
			@include tasty-modal-icon-background($success);
		}
	}

	.tasty-modal-content{
		text-align: center;
		color: #777;
	}
}


@keyframes tasty-modal-open-animation {
  0% { transform: matrix3d(0.5, 0, 0, 0, 0, 0.5, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  3.4% { transform: matrix3d(0.658, 0, 0, 0, 0, 0.703, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  4.7% { transform: matrix3d(0.725, 0, 0, 0, 0, 0.8, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  6.81% { transform: matrix3d(0.83, 0, 0, 0, 0, 0.946, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  9.41% { transform: matrix3d(0.942, 0, 0, 0, 0, 1.084, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  10.21% { transform: matrix3d(0.971, 0, 0, 0, 0, 1.113, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  13.61% { transform: matrix3d(1.062, 0, 0, 0, 0, 1.166, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  14.11% { transform: matrix3d(1.07, 0, 0, 0, 0, 1.165, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  17.52% { transform: matrix3d(1.104, 0, 0, 0, 0, 1.12, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  18.72% { transform: matrix3d(1.106, 0, 0, 0, 0, 1.094, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  21.32% { transform: matrix3d(1.098, 0, 0, 0, 0, 1.035, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  24.32% { transform: matrix3d(1.075, 0, 0, 0, 0, 0.98, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  25.23% { transform: matrix3d(1.067, 0, 0, 0, 0, 0.969, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  29.03% { transform: matrix3d(1.031, 0, 0, 0, 0, 0.948, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  29.93% { transform: matrix3d(1.024, 0, 0, 0, 0, 0.949, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  35.54% { transform: matrix3d(0.99, 0, 0, 0, 0, 0.981, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  36.74% { transform: matrix3d(0.986, 0, 0, 0, 0, 0.989, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  41.04% { transform: matrix3d(0.98, 0, 0, 0, 0, 1.011, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  44.44% { transform: matrix3d(0.983, 0, 0, 0, 0, 1.016, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  52.15% { transform: matrix3d(0.996, 0, 0, 0, 0, 1.003, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  59.86% { transform: matrix3d(1.003, 0, 0, 0, 0, 0.995, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  63.26% { transform: matrix3d(1.004, 0, 0, 0, 0, 0.996, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  75.28% { transform: matrix3d(1.001, 0, 0, 0, 0, 1.002, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  85.49% { transform: matrix3d(0.999, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  90.69% { transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  100% { transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
}



@keyframes tasty-modal-close-animation {
  100% { transform: rotate(-45deg); opacity: 0;}
}

@keyframes tasty-modal-fade{
	0%{ opacity: 0;}
	100% {opacity: 1;}
}
