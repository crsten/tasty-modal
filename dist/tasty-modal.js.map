{"version":3,"sources":["../src/js/tasty-modal.js"],"names":["window","Tasty","Modal","options","ValidTypes","Options","title","type","closeOnClick","icon","undefined","content","buttons","event","Self","close","Element","animationEvent","whichAnimationEvent","build","MainContainer","el","document","createElement","classList","add","addEventListener","target","Container","appendChild","Icon","InnerContainer","Title","Content","Buttons","Render","Open","body","openAnimationEnd","remove","removeEventListener","Close","querySelector","closeAnimationEnd","removeChild","textContent","Type","forEach","innerHTML","backgroundImage","btn","button","bind","Object","defineProperties","get","set","value","indexOf","console","error","Array","keys","key","open","show","hide","freeze","Popsicle","t","animations","style"],"mappings":"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","file":"tasty-modal.js","sourcesContent":[";(function(){\n\tif(!window.Tasty) window.Tasty = {};\n \n\tfunction Modal(options) {\n\t\tif(!options) options = {};\n\t\tlet ValidTypes = ['info','question','success','error']\n\t\tlet Options = {\n\t\t\ttitle: 'Delicious announcement!',\n\t\t\ttype: 'info',\n\t\t\tcloseOnClick: true,\n\t\t\ticon: undefined,\n\t\t\tcontent: undefined,\n\t\t\tbuttons: [\n\t\t\t\t{\n\t\t\t\t\ttitle: 'Got it!',\n\t\t\t\t\tevent: () => {Self.close()}\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\t\tlet Element = {};\n\t\tlet animationEvent = whichAnimationEvent();\n\n\t\tfunction build(){\n\t\t\tElement.MainContainer = (() => {\n\t\t\t\tlet el = document.createElement('div');\n\t\t\t\tel.classList.add('tasty-modal');\n\n\t\t\t\tel.addEventListener('click',(event) => {\n\t\t\t\t\tif(event.target === Element.MainContainer && Options.closeOnClick) Self.close();\n\t\t\t\t});\n\n\t\t\t\treturn el;\n\t\t\t})();\n\n\t\t\tElement.Container = (() => {\n\t\t\t\tlet el = document.createElement('div');\n\t\t\t\tel.classList.add('tasty-modal-container');\n\n\t\t\t\tElement.MainContainer.appendChild(el);\n\n\t\t\t\treturn el;\n\t\t\t })();\n\n\t\t\tElement.Icon = (() => {\n\t\t\t\tlet el = document.createElement('div');\n\t\t\t\tel.classList.add('tasty-modal-icon');\n\n\t\t\t\tElement.Container.appendChild(el);\n\n\t\t\t\treturn el;\n\t\t\t})();\n\n\t\t\tElement.InnerContainer = (() => {\n\t\t\t\tlet el = document.createElement('div');\n\t\t\t\tel.classList.add('tasty-modal-inner');\n\n\t\t\t\tElement.Container.appendChild(el);\n\n\t\t\t\treturn el;\n\t\t\t})();\n\n\t\t\tElement.Title = (() => {\n\t\t\t\tlet el = document.createElement('h1');\n\t\t\t\tElement.InnerContainer.appendChild(el);\n\n\t\t\t\treturn el;\n\t\t\t})();\n\n\t\t\tElement.Content = (() => {\n\t\t\t\tlet el = document.createElement('div');\n\t\t\t\tel.classList.add('tasty-modal-content');\n\n\t\t\t\tElement.InnerContainer.appendChild(el);\n\n\t\t\t\treturn el;\n\t\t\t})();\n\n\t\t\tElement.Buttons = (() => {\n\t\t\t\tlet el = document.createElement('div');\n\t\t\t\tel.classList.add('tasty-modal-buttons');\n\n\t\t\t\tElement.InnerContainer.appendChild(el);\n\n\t\t\t\treturn el;\n\t\t\t})();\n\n\t\t\tRender.Title();\n\t\t\tRender.Buttons();\n\t\t}\n\n\t\tfunction Open(){\n\t\t\tdocument.body.appendChild(Element.MainContainer);\n\t\t\tfunction openAnimationEnd(){\n\t\t\t\tElement.MainContainer.classList.remove('tasty-modal-open');\n\t\t\t\tElement.Container.removeEventListener(animationEvent,openAnimationEnd);\n\t\t\t}\n\t\t\tElement.Container.addEventListener(animationEvent,openAnimationEnd);\n\t\t\tElement.MainContainer.classList.add('tasty-modal-open');\n\t\t}\n\n\t\tfunction Close(){\n\t\t\tlet el = document.querySelector('.tasty-modal');\n\t\t\tfunction closeAnimationEnd(){\n\t\t\t\tElement.MainContainer.removeEventListener(animationEvent,closeAnimationEnd);\n\t\t\t\tElement.MainContainer.classList.remove('tasty-modal-close');\n\t\t\t\tdocument.body.removeChild(el);\n\t\t\t}\n\t\t\tElement.MainContainer.addEventListener(animationEvent,closeAnimationEnd);\n\t\t\tElement.MainContainer.classList.add('tasty-modal-close');\n\t\t}\n\n\t\tlet Render = {\n\t\t\tTitle: () => {\n\t\t\t\tElement.Title.textContent = Options.title;\n\t\t\t},\n\t\t\tType: () => {\n\t\t\t\tValidTypes.forEach(function(type){\n\t\t\t\t\tElement.Container.classList.remove(`tasty-modal-${type}`);\n\t\t\t\t});\n\t\t\t\tElement.Container.classList.add(`tasty-modal-${Options.type}`);\n\t\t\t},\n\t\t\tContent: () => {\n\t\t\t\tElement.Content.innerHTML = Options.content;\n\t\t\t},\n\t\t\tIcon: () => {\n\t\t\t\tElement.Icon.backgroundImage = `url(${Options.icon}`;\n\t\t\t},\n\t\t\tButtons: () => {\n\t\t\t\tElement.Buttons.innerHTML = '';\n\t\t\t\tOptions.buttons.forEach((btn) => {\n\t\t\t\t\tlet button = document.createElement('button');\n\n\t\t\t\t\tif(Options.type == 'info' || Options.type == 'question'){\n\t\t\t\t\t\tbutton.classList.add('tasty-modal-button');\n\t\t\t\t\t} else button.classList.add(`tasty-modal-button-${Options.type}`);\n\n\t\t\t\t\tif(typeof btn.event == 'function') button.addEventListener('click',btn.event.bind(Self));\n\t\t\t\t\tbutton.innerHTML = btn.title;\n\t\t\t\t\tElement.Buttons.appendChild(button);\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tlet Self = Object.defineProperties({},{\n\t\t\t'title': {\n\t\t\t\tget: () => Options.title,\n\t\t\t\tset: (value) => {\n\t\t\t\t\tif(typeof value == 'string') Options.title = value;\n\t\t\t\t\tRender.Title();\n\t\t\t\t}\n\t\t\t},\n\t\t\t'type': {\n\t\t\t\tget: () => Options.type,\n\t\t\t\tset: (value) => {\n\t\t\t\t\tif(ValidTypes.indexOf(value) > -1) Options.type = value;\n\t\t\t\t\telse console.error('Invalid type! Valid types: ',ValidTypes);\n\t\t\t\t\tRender.Type();\n\t\t\t\t\tRender.Buttons();\n\t\t\t\t}\n\t\t\t},\n\t\t\t'content': {\n\t\t\t\tget: () => Options.content,\n\t\t\t\tset: (value) => {\n\t\t\t\t\tif(typeof value == 'string') Options.content = value;\n\t\t\t\t\tRender.Content();\n\t\t\t\t}\n\t\t\t},\n\t\t\t'icon': {\n\t\t\t\tget: () => Options.icon,\n\t\t\t\tset: (value) => {\n\t\t\t\t\tif(typeof value == 'string') Options.icon = value;\n\t\t\t\t\telse if(!value) Options.icon = null;\n\t\t\t\t\tRender.Icon();\n\t\t\t\t}\n\t\t\t},\n\t\t\t'closeOnClick': {\n\t\t\t\tget: () => Options.closeOnClick,\n\t\t\t\tset: (value) => {\n\t\t\t\t\tOptions.closeOnClick = (value) ? true : false;\n\t\t\t\t}\n\t\t\t},\n\t\t\t'buttons': {\n\t\t\t\tget: () => Options.buttons,\n\t\t\t\tset: (value) => {\n\t\t\t\t\t//Should check if object is valid here...\n\t\t\t\t\tif (value instanceof Array) {\n\t\t\t\t\t\tOptions.buttons = value;\n\t\t\t\t\t}else if(typeof value == 'object') {\n\t\t\t\t\t\tOptions.buttons = [value];\n\t\t\t\t\t}\n\t\t\t\t\tRender.Buttons();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tbuild();\n\n\t\tObject.keys(options).forEach(key => {\n\t\t\tif(key in Options) Self[key] = options[key];\n\t\t});\n\n\n\t\tSelf.open = Self.show = Open;\n\t\tSelf.close = Self.hide = Close;\n\n\t\treturn Object.freeze(Self);\n\t}\n\n\twindow.Tasty.Modal = window.Tasty.Popsicle = Modal;\n\n\tfunction whichAnimationEvent(){\n\t\tvar t;\n\t\tvar el = document.createElement('fakeelement');\n\t\tvar animations = {\n\t\t\t'animation':'animationend',\n\t\t\t'OAnimation':'oAnimationEnd',\n\t\t\t'MozAnimation':'animationend',\n\t\t\t'WebkitAnimation':'webkitAnimationEnd'\n\t\t}\n\n\t\tfor(t in animations){\n\t\t\tif( el.style[t] !== undefined ){\n\t\t\t\treturn animations[t];\n\t\t\t}\n\t\t}\n\t}\n\n})();\n"]}